<!DOCTYPE html>
<html>
<head>
	<title>快速排序算法</title>
	<meta charset="utf-8">
	<meta name="keywords" content="快速排序算法">
</head>
<body>
	<p>	
		选择一个数作为基准值，小的放左边，大的放右边，依次递归执行，直到数组长度为1为止，类似 二分法
	</p>
	<script type="text/javascript">
		var arr=[];
		// 随机生成 10000 个在 [0,100000] 的随机数
		for(var m=0;m<10000;m++){
			var random=Math.ceil(Math.random()*100000);
			arr.push(random);
		}
		console.log(arr);
		// ------------------------------------------------------
		var arr1=arr.slice(0);		// 不能使用var arr1 = arr;将导致浅拷贝,影响后面的算法结果
		// console.log(arr1);

		// 快速排序算法 实现一
		function quickSort(array, left, right) {		   	
	        if (left < right) {
	            var x = array[right], i = left - 1, temp;
	            for (var j = left; j <= right; j++) {
	                if (array[j] <= x) {
	                    i++;
	                    temp = array[i];
	                    array[i] = array[j];
	                    array[j] = temp;
	                }
	            }
	            quickSort(array, left, i - 1);
	            quickSort(array, i + 1, right);
	        }
	    	   
	        return array;		    
		}
		
		console.time('快速排序实现一耗时');
		console.log(quickSort(arr1,0,arr1.length-1));
		console.timeEnd('快速排序实现一耗时'); 

		// --------------------------------------------------------

		// 快速排序算法 实现二
		var arr2=arr.slice(0);
		// console.log(arr2);

		var quickSort2 = function(arr) {
		    
		　　if (arr.length <= 1) { 
				return arr;
			}
		　　var pivotIndex = Math.floor(arr.length / 2);
		　　var pivot = arr.splice(pivotIndex, 1)[0];
		　　var left = [];
		　　var right = [];
		　　for (var i = 0; i < arr.length; i++){
		　　　　if (arr[i] < pivot) {
		　　　　　　left.push(arr[i]);
		　　　　} 
				else {
		　　　　　　right.push(arr[i]);
		　　　　}
		　　}
			
		　　return quickSort2(left).concat([pivot], quickSort2(right));
		};
		
		console.time('快速排序实现二耗时');
		console.log(quickSort2(arr2));
		console.timeEnd('快速排序实现二耗时');
	</script>
</body>
</html>